(function(A,ye,i,u,O,y,T,S,P,F,Re,N,v,Se,Ne){"use strict";var q={github:{url:"https://github.com/nexpid/DettaPlugins/",raw:"https://raw.githubusercontent.com/nexpid/DettaPlugins/main/"}};u.find(function(e){return e?.WebView&&!e.default}).WebView,u.findByProps("SvgXml"),u.findByProps("isJoi"),u.findByProps("useSharedValue");const _=i.ReactNative.NativeModules.DCDFileManager??i.ReactNative.NativeModules.RTNFileManager;i.ReactNative.NativeModules.BundleUpdaterManager,i.ReactNative.NativeModules.MMKVManager,i.ReactNative.NativeModules.DCDSoundManager;const g=i.ReactNative.NativeModules.RNFSManager,L=function(e){return e.startsWith("file://")?e.slice(7):e},j=function(e){if(typeof e=="string"){if(["utf8","ascii","base64"].includes(e))return{encoding:e};throw new Error(`Invalid encoding type "${String(e)}"`)}else return e||{encoding:"utf8"}},ve=function(e,t,n){const r=j(t);return n(L(e)).then(function(s){let a;return r.encoding==="utf8"?a=Buffer.from(s,"base64").toString("utf8"):r.encoding==="ascii"?a=Buffer.from(s,"base64").toString("ascii"):r.encoding==="base64"&&(a=s),a})},Q=function(e){let t={style:null,path:null};const n=_.getConstants();if(e.startsWith(n.DocumentsDirPath))t={style:"documents",path:e.slice(n.DocumentsDirPath.length+1)};else if(e.startsWith(n.CacheDirPath))t={style:"cache",path:e.slice(n.CacheDirPath.length+1)};else throw new Error(`File path "${String(e)}" is unsupported on versions <211.6 (not a caches/documents path, missing RNFS)`);return t},E={unlink(e){if(g)return g.unlink(L(e)).then(function(){});const t=Q(e);return _.removeFile(t.style,t.path).then(function(){})},exists(e){return g?g.exists(L(e)):_.fileExists(L(e))},readFile(e,t){if(g)return ve(e,t,g.readFile);{const n=j(t);if(n.encoding==="ascii")throw new Error('Encoding type "ascii" is unsupported on versions <211.6 (missing RNFS)');return _.readFile(e,n.encoding)}},writeFile(e,t,n){const r=j(n);if(!g){if(r.encoding==="ascii")throw new Error('Encoding type "ascii" is unsupported on versions <211.6 (missing RNFS)');const a=Q(e);return _.writeFile(a.style,a.path,t,r.encoding).then(function(){})}let s;return r.encoding==="utf8"?s=Buffer.from(t,"utf8").toString("base64"):r.encoding==="ascii"?s=Buffer.from(t,"ascii").toString("base64"):r.encoding==="base64"&&(s=t),g.writeFile(L(e),s,r)},mkdir(e){if(!g)throw new Error("Function 'mkdir' is unsupported on versions <211.6 (missing RNFS)");return g.mkdir(L(e),{}).then(function(){})},MainBundlePath:g?.RNFSMainBundlePath,get CachesDirectoryPath(){return g?.RNFSCachesDirectoryPath??_.getConstants().CacheDirPath},ExternalCachesDirectoryPath:g?.RNFSExternalCachesDirectoryPath,get DocumentDirectoryPath(){return g?.RNFSDocumentDirectoryPath??_.getConstants().DocumentsDirPath},DownloadDirectoryPath:g?.RNFSDownloadDirectoryPath,ExternalDirectoryPath:g?.RNFSExternalDirectoryPath,ExternalStorageDirectoryPath:g?.RNFSExternalStorageDirectoryPath,TemporaryDirectoryPath:g?.RNFSTemporaryDirectoryPath,LibraryDirectoryPath:g?.RNFSLibraryDirectoryPath,PicturesDirectoryPath:g?.RNFSPicturesDirectoryPath,FileProtectionKeys:g?.RNFSFileProtectionKeys,RoamingDirectoryPath:g?.RNFSRoamingDirectoryPath,hasRNFS:!!g};function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t,n){return t&&ee(e.prototype,t),n&&ee(e,n),e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const me=`${q.github.raw}lang/values/`,Pe=function(){return E.hasRNFS&&E.mkdir(`${E.DocumentDirectoryPath}/vendetta/NexpidLang`)},U=function(e){return`${E.DocumentDirectoryPath}/vendetta/NexpidLang/${e}.json`},V=function(e){return`${E.DocumentDirectoryPath}/vendetta/NexpidLang/${e}_etag.txt`};let we=function(){function e(t){Ee(this,e),G(this,"plugin",void 0),G(this,"values",void 0),G(this,"controller",void 0),G(this,"Values",void 0),this.plugin=t,this.values=null,this.controller=new AbortController,this.load()}return be(e,[{key:"load",value:async function(){var t=this;const n=async function(){if(await E.exists(U(t.plugin)))try{t.values=JSON.parse(await E.readFile(U(t.plugin)))}catch{return}};{const r=await fetch(`${me}${this.plugin}.json`,{headers:{"cache-control":"public, max-age=20"}});if(!r.ok)return n();Pe();const s=await E.exists(V(this.plugin))&&await E.readFile(V(this.plugin)),a=r.headers.get("etag");if(!a)return n();if(a!==s){E.writeFile(V(this.plugin),a);const c=await r.text();E.writeFile(U(this.plugin),c);try{this.values=JSON.parse(c)}catch{return}}else n()}}},{key:"unload",value:function(){this.controller.abort()}},{key:"format",value:function(t,n,r){const s=r,a=t;if(!this.values)return String(a);let c=this.values[e.getLang()]?.[a]??this.values.en?.[a]??s;if(!c)return String(a);const h=c.match(/\$\w+/g)?.map(function(d){return d.slice(1)})??[];for(const d of h)c=c.replace(new RegExp(`\\$${d}`,"g"),String(d in n?n[d]:""));return c}}],[{key:"getLang",value:function(){const t=i.i18n.getLocale()?.replace(/-/g,"_")??"en";return t.startsWith("en_")?"en":t}}]),e}();const{FormSection:Ce}=P.Forms,Ie=u.findByName("getScreens"),De=u.findByName("UserSettingsOverviewWrapper",!1),Te=i.stylesheet.createThemedStyleSheet({container:{flex:1,backgroundColor:S.semanticColors.BACKGROUND_MOBILE_PRIMARY}});function _e(e,t,n){const r=[],s=T.after("default",De,function(a,c){s();const h=F.findInReactTree(c.props.children,function(d){return d.type&&d.type.name==="UserSettingsOverview"});r.push(T.after("render",h.type.prototype,function(d,b){let{props:{children:f}}=b;const l=[i.i18n.Messages.BILLING_SETTINGS,i.i18n.Messages.PREMIUM_SETTINGS];f=F.findInReactTree(f,function(p){return p.children[1].type===Ce}).children;const o=f.findIndex(function(p){return l.includes(p?.props.label)});e()&&f.splice(o===-1?4:o,0,t({}))}))},!0);if(r.push(s),Ie&&n){const a=`BUNNY_PLUGIN_${i.lodash.snakeCase(n.key).toUpperCase()}`,c=n.page.render,h=i.React.memo(function(l){let{navigation:o}=l;const p=o.addListener("focus",function(){p(),o.setOptions(F.without(n.page,"noErrorBoundary","render"))});return i.React.createElement(i.ReactNative.View,{style:Te.container},n.page.noErrorBoundary?i.React.createElement(c,null):i.React.createElement(P.ErrorBoundary,null,i.React.createElement(c,null)))}),d={[a]:{type:"route",title:function(){return n.title},icon:n.icon,parent:null,screen:{route:`BunnyPlugin${i.lodash.chain(n.key).camelCase().upperFirst().value()}`,getComponent:function(){return h}}}},b=function(l,o){const p=[...l],m=o?p?.[0]?.sections:p;if(!Array.isArray(m))return m;const I="Bunny",D=m.find(function(B){return B?.title===I||B?.label===I});return D&&!D?.settings?.includes(a)&&D.settings.push(a),p},f=function(){const l=u.findByProps("useOverviewSettings"),o=u.findByProps("getSettingTitleConfig"),p=u.findByProps("SETTING_RELATIONSHIPS","SETTING_RENDERER_CONFIGS"),m="getSettingSearchListItems",I="getSettingListItems",D=u.findByProps(m),B=D?m:I,pe=D??u.findByProps(I);if(!pe||!l)return!1;r.push(T.after("useOverviewSettings",l,function(J,$){return b($)})),r.push(T.after("getSettingTitleConfig",o,function(J,$){return{...$,[a]:n.title}})),r.push(T.after(B,pe,function(J,$){let[rt]=J;return[...rt.includes(a)?[{type:"setting_search_result",ancestorRendererData:d[a],setting:a,title:function(){return n.title},breadcrumbs:["Bunny","Nexpid"],icon:d[a].icon}]:[],...$]}));const Z=p.SETTING_RELATIONSHIPS,it=p.SETTING_RENDERER_CONFIGS;return p.SETTING_RELATIONSHIPS={...Z,[a]:null},p.SETTING_RENDERER_CONFIGS={...it,...d},r.push(function(){p.SETTING_RELATIONSHIPS=Z,p.SETTING_RENDERER_CONFIGS=Z}),!0};(function(){const l=u.findByProps("SearchableSettingsList"),o=u.findByProps("SETTING_RENDERER_CONFIG"),p=u.findByProps("getSettingListItems");if(!p||!l||!o)return!1;r.push(T.before("type",l.SearchableSettingsList,function(I){return b(I,!0)})),r.push(T.after("getSettingListSearchResultItems",p,function(I,D){for(const B of D)B.setting===a&&(B.breadcrumbs=["Bunny","Nexpid"])}));const m=o.SETTING_RENDERER_CONFIG;return o.SETTING_RENDERER_CONFIG={...m,...d},r.push(function(){o.SETTING_RENDERER_CONFIG=m}),!0})()||f()}return function(){return r.forEach(function(a){return a()})}}const Be=u.findByStoreName("ThemeStore");u.findByProps("triggerHaptic");const te=u.findByProps("colors","unsafe_rawColors"),Ae=te?.internal??te?.meta,H=u.findByProps("TextStyleSheet").TextStyleSheet,Le=u.findByProps("ActionSheet")?.ActionSheet??u.find(function(e){return e.render?.name==="ActionSheet"}),xe=u.findByProps("openLazy","hideActionSheet"),{openLazy:Fe,hideActionSheet:$e}=xe,{ActionSheetTitleHeader:Oe,ActionSheetCloseButton:Ge,ActionSheetContentContainer:Me}=u.findByProps("ActionSheetTitleHeader","ActionSheetCloseButton","ActionSheetContentContainer");u.findByProps("ActionSheetRow")?.ActionSheetRow,u.findByName("Navigator")??u.findByProps("Navigator")?.Navigator,u.findByProps("getRenderCloseButton")?.getRenderCloseButton??u.findByProps("getHeaderCloseButton")?.getHeaderCloseButton,u.findByProps("popModal","pushModal"),u.findByProps("Button","ContextMenu","TextInput");function ke(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Be.theme;return Ae.resolveSemanticColor(t,e)}function je(e,t){try{Fe(new Promise(function(n){return n({default:e})}),"ActionSheet",t)}catch(n){O.logger.error(n.stack),N.showToast("Got error when opening ActionSheet! Please check debug logs",y.getAssetIDByName("Smal"))}}const{FormRadioRow:Ue}=P.Forms;function Ve(e){let{title:t,value:n,options:r,callback:s}=e;const[a,c]=i.React.useState(n);return i.React.createElement(Le,null,i.React.createElement(Me,null,i.React.createElement(Oe,{title:t,trailing:i.React.createElement(Ge,{onPress:function(){return $e()}})}),r.map(function(h){return i.React.createElement(Ue,{label:h.name,onPress:function(){c(h.value),s(h.value)},selected:h.value===a})})))}function z(e){let{onPress:t,onLongPress:n,icon:r,style:s,destructive:a,color:c}=e;const h=i.stylesheet.createThemedStyleSheet({headerStyleIcon:{width:24,height:24,marginRight:10,tintColor:S.semanticColors.HEADER_PRIMARY},cardStyleIcon:{width:22,height:22,marginLeft:5,tintColor:S.semanticColors.INTERACTIVE_NORMAL},destructiveIcon:{tintColor:S.semanticColors.TEXT_DANGER}});return React.createElement(i.ReactNative.TouchableOpacity,{onPress:t,onLongPress:n},React.createElement(i.ReactNative.Image,{style:[typeof s=="string"?s==="header"?h.headerStyleIcon:h.cardStyleIcon:s,a&&h.destructiveIcon,c&&{tintColor:c}].filter(function(d){return!!d}),source:r}))}let M={};function W(){return!Object.keys(M)[0]||!x.pluginCache[0]?[]:Object.entries(M).map(function(e){let[t,n]=e;return x.pluginCache.includes(t)?O.plugins.plugins[t]&&O.plugins.plugins[t].manifest.hash!==n?[t,"update"]:void 0:[t,"new"]}).filter(function(e){return!!e})}function He(){x.pluginCache=Object.keys(M)}async function ne(){const e=await(await F.safeFetch(X,{cache:"no-store"})).json();M=Object.fromEntries(e.map(function(t){return[`https://vd-plugins.github.io/proxy/${t.vendetta.original}`,t.hash]}))}function ze(){const e=setInterval(ne,6e5);return ne(),function(){return clearInterval(e)}}function We(e){return e.endsWith("/")?e:e+"/"}const k={origin:/^([^/]+)\/(.*)/,multiplePluginGitio:/^(.*?)(?=\.)\.github\.io\/(.*?)(?=\/)\/(.*)/,singlePluginGitio:/^(.*?)(?=\.)\.github\.io\/(.*)/,githubReleases:/^github\.com\/(.*?)(?=\/)\/(.*?)(?=\/)\/releases/},ie={"vendetta.nexpid.xyz":function(e){return`${q.github.url}plugins/${e.join("/")}`},"vendetta.sdh.gay":function(e){return`https://github.com/sdhhhhh/vd-repo/tree/master/plugins/${e.join("/")}`},"plugins.obamabot.me":function(e){return`https://github.com/WolfPlugs/${e[0]}/tree/master/${e.slice(1).join("/")}`},"mugman.catvibers.me":function(e){return`https://github.com/mugman174/${e[0]}/tree/master/plugins/${e.slice(1).join("/")}`}};function Ke(e){const t=e.match(k.multiplePluginGitio);if(t?.[0])return`https://github.com/${t[1]}/${t[2]}/tree/master/plugins/${t[3]}`;const n=e.match(k.singlePluginGitio)??e.match(k.githubReleases);if(n?.[0])return`https://github.com/${n[1]}/${n[2]}`;const[r,s,a]=e.match(k.origin);if(ie[s])return ie[s](a.split("/"))}async function Ye(e){const t=e.enabled;for(let n=0;n<2;n++)t&&v.stopPlugin(e.id,!1),await v.fetchPlugin(e.id),t&&await v.startPlugin(e.id)}const K=Symbol.for("vendetta.storage.emitter"),Xe=!!v.plugins[K]&&!!Se.themes[K];function Ze(e){const[t,n]=i.React.useState(!!v.plugins[e]),r=v.plugins[K],s=function(){return n(!!v.plugins[e])};return i.React.useEffect(function(){return n(!!v.plugins[e]),r.on("SET",s),r.on("DEL",s),function(){r.off("SET",s),r.off("DEL",s)}}),t}const{Text:Je}=P.General;function re(e){let{variant:t,lineClamp:n,color:r,align:s,style:a,onPress:c,getChildren:h,children:d,liveUpdate:b}=e;const[f,l]=i.React.useReducer(function(o){return~o},0);return i.React.useEffect(function(){if(!b)return;const o=new Date().setMilliseconds(1e3);let p;const m=setTimeout(function(){l(),p=setInterval(l,1e3)},o-Date.now());return function(){clearTimeout(m),clearInterval(p)}},[]),i.React.createElement(Je,{style:[t?H[t]:{},r?{color:ke(S.semanticColors[r])}:{},s?{textAlign:s}:{},a??{}],numberOfLines:n,onPress:c},h?.()??d)}const{View:ae}=P.General,se=i.stylesheet.createThemedStyleSheet({main:{marginRight:16,flexGrow:0},content:{backgroundColor:S.semanticColors.REDESIGN_BUTTON_PRIMARY_BACKGROUND,borderRadius:16,marginLeft:8,paddingHorizontal:8}});function oe(e){let{text:t,marginLeft:n}=e;return React.createElement(ae,{style:[se.main,n?{marginLeft:16,marginRight:0}:{}]},React.createElement(ae,{style:se.content},React.createElement(re,{variant:"eyebrow",color:"TEXT_NORMAL"},t)))}const{FormRow:ce}=P.Forms,w=i.stylesheet.createThemedStyleSheet({card:{backgroundColor:S.semanticColors?.BACKGROUND_SECONDARY,borderRadius:12},header:{padding:0,backgroundColor:S.semanticColors?.BACKGROUND_TERTIARY,borderRadius:12},headerChildren:{flexDirection:"column",justifyContent:"center"},headerLabelStuff:{flexDirection:"row"},headerLabel:{color:S.semanticColors?.TEXT_NORMAL,...H["text-md/semibold"]},headerSubtitle:{color:S.semanticColors?.TEXT_MUTED,...H["text-sm/semibold"]},actions:{flexDirection:"row-reverse",alignItems:"center"},icon:{width:22,height:22,marginLeft:5,tintColor:S.semanticColors?.INTERACTIVE_NORMAL},iconContainer:{width:33,height:33,borderRadius:17,backgroundColor:S.semanticColors?.BACKGROUND_ACCENT,justifyContent:"center",alignItems:"center"},smallerIcon:{width:22,height:22,tintColor:S.semanticColors?.INTERACTIVE_NORMAL},highlight:{backgroundColor:"#F0"+S.rawColors.YELLOW_300.slice(1)}}),le=function(e,t){return t?e.split(new RegExp("("+t.replace(Ne.ESCAPE_REGEX,"\\$&")+")","gi")).map(function(n,r){return r%2===1?i.React.createElement(i.ReactNative.Text,{style:w.highlight},n):n}):e};function qe(e){return i.React.createElement(i.ReactNative.View,{style:[w.card,{marginTop:e.index!==0?10:0}]},i.React.createElement(ce,{style:w.header,label:i.React.createElement(i.ReactNative.View,{style:w.headerChildren},i.React.createElement(i.ReactNative.View,{style:w.headerLabelStuff},e.update&&i.React.createElement(oe,{text:e.update}),i.React.createElement(i.ReactNative.Text,{style:w.headerLabel},le(e.headerLabel,e.highlight))),e.headerSublabel&&i.React.createElement(i.ReactNative.Text,{style:w.headerSubtitle},e.headerSublabel)),leading:e.headerIcon&&i.React.createElement(i.ReactNative.View,{style:w.iconContainer},i.React.createElement(i.ReactNative.Image,{source:y.getAssetIDByName(e.headerIcon),style:w.smallerIcon}))}),i.React.createElement(ce,{label:e.descriptionLabel&&le(e.descriptionLabel,e.highlight),trailing:i.React.createElement(i.ReactNative.View,{style:w.actions},e.actions?.map(function(t){let{icon:n,onPress:r,onLongPress:s,destructive:a}=t;return i.React.createElement(z,{icon:n,onPress:r,onLongPress:s,style:"card",destructive:a??!1})}),e.loading&&i.React.createElement(i.ReactNative.ActivityIndicator,{size:"small",style:{height:22,width:22}}))}))}function Qe(e){let{index:t,item:n,changes:r,highlight:s}=e;const a=We(`https://vd-plugins.github.io/proxy/${n.vendetta.original}`),[c,h]=i.React.useState(!1),d=Ze(a),b=r.find(function(o){return o[0]===a}),f=Ke(n.vendetta.original),l=[];return f&&l.push({icon:y.getAssetIDByName("img_account_sync_github_white"),onPress:function(){return i.url.openURL(f)},onLongPress:function(){i.clipboard.setString(f),N.showToast(R.format("toast.copy.github_link",{}),y.getAssetIDByName("toast_copy_link"))}}),i.React.createElement(qe,{index:t,update:b&&(b[1]==="new"?"New":"Upd"),headerLabel:n.name,headerSublabel:n.authors?.[0]&&`by ${n.authors.map(function(o){return o.name}).join(", ")}`,headerIcon:n.vendetta?.icon||"ic_application_command_24px",highlight:s,descriptionLabel:n.description,actions:c?[]:a.includes("plugin-browser")?l:d?[v.plugins[a]?.manifest.hash!==n.hash&&{icon:y.getAssetIDByName("ic_sync_24px"),onPress:function(){h(!0),Ye(a).then(function(){return N.showToast(R.format("toast.plugin.update.success",{plugin:n.name}),y.getAssetIDByName("ic_sync_24px"))}).catch(function(){return N.showToast(R.format("toast.plugin.update.fail",{plugin:n.name}),y.getAssetIDByName("Small"))}).finally(function(){return h(!1)})}},{icon:y.getAssetIDByName("ic_message_delete"),destructive:!0,onPress:async function(){h(!0);try{v.removePlugin(a),N.showToast(R.format("toast.plugin.delete.success",{plugin:n.name}),y.getAssetIDByName("ic_message_delete"))}catch{N.showToast(R.format("toast.plugin.delete.fail",{plugin:n.name}),y.getAssetIDByName("Small"))}h(!1)},onLongPress:function(){i.clipboard.setString(n.vendetta.original),N.showToast(R.format("toast.copy.unproxied_link",{}),y.getAssetIDByName("toast_copy_link"))}},...l].filter(function(o){return!!o}):[{icon:y.getAssetIDByName("ic_download_24px"),onPress:async function(){h(!0),v.installPlugin(a,!0).then(function(){N.showToast(R.format("toast.plugin.install.success",{plugin:n.name}),y.getAssetIDByName("toast_image_saved"))}).catch(function(o){return N.showToast(o?.message??R.format("toast.plugin.install.fail",{plugin:n.name}),y.getAssetIDByName("Small"))}).finally(function(){return h(!1)})},onLongPress:function(){i.clipboard.setString(n.vendetta.original),N.showToast(R.format("toast.copy.unproxied_link",{}),y.getAssetIDByName("toast_copy_link"))}},...l],loading:c})}const{View:ue}=P.General;var C;(function(e){e.DateNewest="sheet.sort.date_newest",e.DateOldest="sheet.sort.date_oldest",e.NameAZ="sheet.sort.name_az",e.NameZA="sheet.sort.name_za"})(C||(C={}));let he,fe;function ge(){const e=i.NavigationNative.useNavigation();if(!Xe)return Re.showConfirmationAlert({title:R.format("alert.unusable.title",{}),content:R.format("alert.unusable.body",{}),confirmColor:"brand",onConfirm:function(){},isDismissable:!0}),e.goBack(),null;const[t,n]=i.React.useState(""),r=i.React.useRef(W()).current,[s,a]=i.React.useState(C.DateNewest),[c,h]=i.React.useState(null),d=i.React.useRef(a);d.current=a;const b=i.React.useMemo(function(){if(!c)return;let f=c.filter(function(l){return[l.vendetta.original,l.name,l.description,l.authors?.map(function(o){return o.name})].flat().some(function(o){return o?.toLowerCase().includes(t)})}).slice();return[C.NameAZ,C.NameZA].includes(s)&&(f=f.sort(function(l,o){return l.name<o.name?-1:l.name>o.name?1:0})),[C.NameZA,C.DateNewest].includes(s)&&f.reverse(),f},[s,c,t]);return i.React.useEffect(He,[]),i.React.useEffect(function(){c||F.safeFetch(X,{cache:"no-store"}).then(function(f){return f.json().then(function(l){return h(l)}).catch(function(){return N.showToast(R.format("toast.data.fail_parse",{}),y.getAssetIDByName("Small"))})}).catch(function(){return N.showToast(R.format("toast.data.fail_fetch",{}),y.getAssetIDByName("Small"))})},[c]),he=function(){return c&&h(null)},fe=function(){return c&&je(Ve,{title:R.format("sheet.sort.title",{}),value:s,options:Object.values(C).map(function(f){return{name:R.format(f,{}),value:f}}),callback:function(f){return d.current(f)}})},e.addListener("focus",function(){e.setOptions({title:R.format("plugin.name",{}),headerRight:function(){return i.React.createElement(ue,{style:{flexDirection:"row-reverse"}},i.React.createElement(z,{onPress:function(){return he?.()},icon:y.getAssetIDByName("ic_sync_24px"),style:"header"}),i.React.createElement(z,{onPress:function(){return fe?.()},icon:y.getAssetIDByName("ic_filter"),style:"header"}))}})}),c?i.React.createElement(i.ReactNative.FlatList,{ListHeaderComponent:i.React.createElement(ue,{style:{marginBottom:10}},i.React.createElement(P.Search,{onChangeText:n})),style:{paddingHorizontal:10},contentContainerStyle:{paddingBottom:20},data:b,renderItem:function(f){let{item:l,index:o}=f;return i.React.createElement(Qe,{index:o,highlight:t,item:l,changes:r})},removeClippedSubviews:!0}):i.React.createElement(i.ReactNative.ActivityIndicator,{size:"large",style:{flex:1}})}const{FormRow:Y}=P.Forms;function et(e){let{changes:t}=e;const n=i.NavigationNative.useNavigation();return React.createElement(P.ErrorBoundary,null,React.createElement(Y,{label:React.createElement(re,{variant:"text-md/semibold",color:"HEADER_PRIMARY"},R.format("plugin.name",{}),t?React.createElement(oe,{text:t.toString(),marginLeft:!0}):React.createElement(React.Fragment,null)),leading:React.createElement(Y.Icon,{source:y.getAssetIDByName("ic_search_items_24px")}),trailing:Y.Arrow,onPress:function(){return n.push("VendettaCustomPage",{render:ge})}}))}function tt(){const e=[];return e.push(_e(function(){return!0},function(){return React.createElement(et,{changes:W().filter(function(t){return t[1]==="new"}).length})},{key:O.plugin.manifest.name,icon:y.getAssetIDByName("ic_search_items_24px"),get title(){const t=W().filter(function(n){return n[1]==="new"}).length;return t?R.format("plugin.name.changes",{changes:t}):R.format("plugin.name",{})},page:{render:ge}})),e.push(ze()),function(){return e.forEach(function(t){return t()})}}const X="https://vd-plugins.github.io/proxy/plugins-full.json",x=ye.storage,R=new we("plugin_browser");let de;var nt={onLoad:function(){x.pluginCache??(x.pluginCache=[]),de=tt()},onUnload:function(){return de?.(),R.unload()}};return A.default=nt,A.lang=R,A.pluginsURL=X,A.vstorage=x,Object.defineProperty(A,"__esModule",{value:!0}),A})({},vendetta.plugin,vendetta.metro.common,vendetta.metro,vendetta,vendetta.ui.assets,vendetta.patcher,vendetta.ui,vendetta.ui.components,vendetta.utils,vendetta.ui.alerts,vendetta.ui.toasts,vendetta.plugins,vendetta.themes,vendetta.constants);
